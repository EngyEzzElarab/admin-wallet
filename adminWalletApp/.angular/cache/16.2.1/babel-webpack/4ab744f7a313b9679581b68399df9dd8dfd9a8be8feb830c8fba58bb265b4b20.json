{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"../services/wallet.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction AdjustBalanceComponent_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", user_r1._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r1.name);\n  }\n}\nexport class AdjustBalanceComponent {\n  constructor(userService, walletService) {\n    this.userService = userService;\n    this.walletService = walletService;\n    this.users = [];\n    // selectedUser: string = '';\n    this.selectedUser = '';\n    this.adjustmentAmount = 0;\n    this.adjustmentType = 'deposit';\n    this.currBalance = 0;\n  }\n  ngOnInit() {\n    this.userService.getUsersFromDB().subscribe(data => {\n      this.users = data;\n    }, error => {\n      console.error('Error while getting the users from db:', error);\n    });\n  }\n  // getBalance(): void {\n  //   this.users.find(user => user.id === this.selectedUser)?.balance;\n  //   // this.adjustmentAmount = this.users.find(this.selectedUser).balance;\n  // }\n  adjustBalance() {\n    //   this.userService.setUsers(this.users.map(user => {\n    //     if (user.id == this.selectedUser) {\n    //       console.log({ ...user, balance: this.adjustmentAmount })\n    //       return { ...user, balance: this.adjustmentAmount };\n    //     }\n    //     return user;\n    // }));\n    // console.log(this.userService.getUsers())\n    console.log(this.selectedUser);\n    console.log(this.adjustmentAmount);\n    console.log(this.adjustmentType);\n    this.walletService.adjustBalance(this.selectedUser, this.adjustmentAmount, this.adjustmentType).subscribe(response => {\n      console.log('Adjustment response:', response);\n    }, error => {\n      console.error('Adjustment error:', error);\n    });\n  }\n}\n_class = AdjustBalanceComponent;\n_class.ɵfac = function AdjustBalanceComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.WalletService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-adjust-balance\"]],\n  decls: 23,\n  vars: 4,\n  consts: [[1, \"adjust-balance\"], [1, \"centered\"], [\"for\", \"userSelect\"], [\"id\", \"userSelect\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"adjustmentType\"], [\"id\", \"adjustmentType\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"deposit\"], [\"value\", \"withdrawal\"], [\"for\", \"amountInput\"], [\"id\", \"amountInput\", \"type\", \"number\", \"min\", \"0\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [3, \"value\"]],\n  template: function AdjustBalanceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"Adjust Balance\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"label\", 2);\n      i0.ɵɵtext(5, \"Select User:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"select\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function AdjustBalanceComponent_Template_select_ngModelChange_6_listener($event) {\n        return ctx.selectedUser = $event;\n      });\n      i0.ɵɵtemplate(7, AdjustBalanceComponent_option_7_Template, 2, 2, \"option\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 1)(9, \"label\", 5);\n      i0.ɵɵtext(10, \"Select Adjustment Type:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"select\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function AdjustBalanceComponent_Template_select_ngModelChange_11_listener($event) {\n        return ctx.adjustmentType = $event;\n      });\n      i0.ɵɵelementStart(12, \"option\", 7);\n      i0.ɵɵtext(13, \"Deposit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"option\", 8);\n      i0.ɵɵtext(15, \"Withdrawal\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 1)(17, \"label\", 9);\n      i0.ɵɵtext(18, \"Adjustment Amount:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function AdjustBalanceComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.adjustmentAmount = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 1)(21, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function AdjustBalanceComponent_Template_button_click_21_listener() {\n        return ctx.adjustBalance();\n      });\n      i0.ɵɵtext(22, \"Adjust Balance\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedUser);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.adjustmentType);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.adjustmentAmount);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.NgModel],\n  styles: [\".adjust-balance[_ngcontent-%COMP%] {\\n    padding: 20px;\\n  }\\n  \\n  .adjust-balance[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    font-size: 1.5rem;\\n    margin-bottom: 10px;\\n    text-align: center;\\n\\n  }\\n  \\n  .adjust-balance[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 5px;\\n    text-align: center;\\n  }\\n  \\n  .adjust-balance[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .adjust-balance[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    width: 200px;\\n    padding: 5px;\\n    font-size: 1rem;\\n  }\\n  \\n  .adjust-balance[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    padding: 5px 10px;\\n    background-color: #007bff;\\n    color: #fff;\\n    border: none;\\n    cursor: pointer;\\n  }\\n  .centered[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-bottom: 30px;\\n    margin-top: 20px;\\n    vertical-align: middle;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRqdXN0LWJhbGFuY2UvYWRqdXN0LWJhbGFuY2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7RUFDZjs7RUFFQTtJQUNFLGlCQUFpQjtJQUNqQixtQkFBbUI7SUFDbkIsa0JBQWtCOztFQUVwQjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsa0JBQWtCO0VBQ3BCOztFQUVBOztJQUVFLFlBQVk7SUFDWixZQUFZO0lBQ1osZUFBZTtFQUNqQjs7RUFFQTtJQUNFLGlCQUFpQjtJQUNqQix5QkFBeUI7SUFDekIsV0FBVztJQUNYLFlBQVk7SUFDWixlQUFlO0VBQ2pCO0VBQ0E7SUFDRSxrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQixzQkFBc0I7RUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyIuYWRqdXN0LWJhbGFuY2Uge1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgLmFkanVzdC1iYWxhbmNlIGgyIHtcclxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHJcbiAgfVxyXG4gIFxyXG4gIC5hZGp1c3QtYmFsYW5jZSBsYWJlbCB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgLmFkanVzdC1iYWxhbmNlIHNlbGVjdCxcclxuICAuYWRqdXN0LWJhbGFuY2UgaW5wdXQge1xyXG4gICAgd2lkdGg6IDIwMHB4O1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgZm9udC1zaXplOiAxcmVtO1xyXG4gIH1cclxuICBcclxuICAuYWRqdXN0LWJhbGFuY2UgYnV0dG9uIHtcclxuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuICAuY2VudGVyZWQge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gIH1cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","user_r1","_id","ɵɵadvance","ɵɵtextInterpolate","name","AdjustBalanceComponent","constructor","userService","walletService","users","selectedUser","adjustmentAmount","adjustmentType","currBalance","ngOnInit","getUsersFromDB","subscribe","data","error","console","adjustBalance","log","response","ɵɵdirectiveInject","i1","UserService","i2","WalletService","selectors","decls","vars","consts","template","AdjustBalanceComponent_Template","rf","ctx","ɵɵlistener","AdjustBalanceComponent_Template_select_ngModelChange_6_listener","$event","ɵɵtemplate","AdjustBalanceComponent_option_7_Template","AdjustBalanceComponent_Template_select_ngModelChange_11_listener","AdjustBalanceComponent_Template_input_ngModelChange_19_listener","AdjustBalanceComponent_Template_button_click_21_listener"],"sources":["C:\\Users\\Hi\\Desktop\\botit\\admin-wallet-app\\src\\app\\adjust-balance\\adjust-balance.component.ts","C:\\Users\\Hi\\Desktop\\botit\\admin-wallet-app\\src\\app\\adjust-balance\\adjust-balance.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../services/user.service';\nimport { WalletService } from '../services/wallet.service';\nimport { User } from '../models/user.model';\n\n@Component({\n  selector: 'app-adjust-balance',\n  templateUrl: './adjust-balance.component.html',\n  styleUrls: ['./adjust-balance.component.css']\n})\nexport class AdjustBalanceComponent implements OnInit {\n  users: User[] = [];\n  // selectedUser: string = '';\n  selectedUser: string = '';\n  adjustmentAmount: number = 0;\n  adjustmentType: 'withdrawal' | 'deposit' = 'deposit';\n  currBalance: number = 0;\n\n  constructor(\n    private userService: UserService,\n    private walletService: WalletService\n  ) { }\n\n  ngOnInit(): void {\n    this.userService.getUsersFromDB()\n    .subscribe(\n      (data: User[]) => {\n        this.users = data; \n      },\n      (error) => {\n        console.error('Error while getting the users from db:', error);\n      }\n    );\n  }\n\n  // getBalance(): void {\n  //   this.users.find(user => user.id === this.selectedUser)?.balance;\n  //   // this.adjustmentAmount = this.users.find(this.selectedUser).balance;\n  // }\n  adjustBalance(): void {\n  //   this.userService.setUsers(this.users.map(user => {\n  //     if (user.id == this.selectedUser) {\n  //       console.log({ ...user, balance: this.adjustmentAmount })\n  //       return { ...user, balance: this.adjustmentAmount };\n  //     }\n  //     return user;\n\n  // }));\n  // console.log(this.userService.getUsers())\n\n    console.log(this.selectedUser)\n    console.log(this.adjustmentAmount)\n    console.log(this.adjustmentType)\n    this.walletService.adjustBalance(this.selectedUser,this.adjustmentAmount ,this.adjustmentType).subscribe(\n      (response) => {\n        console.log('Adjustment response:', response);\n      },\n      (error) => {\n        console.error('Adjustment error:', error);\n      }\n    );\n\n  }\n}","<div class=\"adjust-balance\">\n  <h2 class=\"centered\">Adjust Balance</h2>\n  <div class=\"centered\">\n    <label for=\"userSelect\">Select User:</label>\n    <select id=\"userSelect\" [(ngModel)]=\"selectedUser\">\n      <!-- <option value=\"\" selected>Select User</option> -->\n      <option *ngFor=\"let user of users\" [value]=\"user._id\">{{ user.name }}</option>\n    </select>\n  </div>\n  <!-- <div class=\"centered\">\n    <label for=\"amountInput\">Adjustment Amount:</label>\n    <input id=\"amountInput\" type=\"number\" [(ngModel)]=\"adjustmentAmount\">\n  </div> -->\n  <div class=\"centered\">\n    <label for=\"adjustmentType\">Select Adjustment Type:</label>\n    <select id=\"adjustmentType\" [(ngModel)]=\"adjustmentType\">\n      <option value=\"deposit\">Deposit</option>\n      <option value=\"withdrawal\">Withdrawal</option>\n    </select>\n  </div>\n  <div class=\"centered\">\n    <label for=\"amountInput\">Adjustment Amount:</label>\n    <input id=\"amountInput\" type=\"number\" [(ngModel)]=\"adjustmentAmount\" min=\"0\">\n  </div>\n  <div class=\"centered\">\n    <button (click)=\"adjustBalance()\">Adjust Balance</button>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}